# =========================================
# PLANTILLA DE CONFIGURACIÓN EXTERNA - External Configuration Store Pattern
# =========================================
# Este archivo sirve como plantilla para crear tu archivo .env
# Copia este archivo a .env y ajusta los valores según tu entorno
# 
# Comando: cp .env.example .env

# =========================================
# BASE DE DATOS POSTGRESQL
# =========================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=gestor_proyectos

# URL completa de conexión
# Desarrollo local: postgresql://user:pass@localhost:5433/db
# Docker: postgresql://user:pass@db:5432/db (el servicio se llama 'db')
DATABASE_URL=postgresql://postgres:password@localhost:5433/gestor_proyectos

# Configuración de reintentos de conexión (Retry Pattern)
DB_MAX_RETRY_ATTEMPTS=5
DB_RETRY_MIN_WAIT=1
DB_RETRY_MAX_WAIT=10

# =========================================
# REDIS - CACHE-ASIDE PATTERN
# =========================================
# Desarrollo local: localhost
# Docker: redis (nombre del servicio)
REDIS_HOST=localhost
REDIS_PORT=6379

# Tiempo de vida del caché en segundos (300 = 5 minutos)
CACHE_TTL=300

# =========================================
# LDAP - FEDERATED IDENTITY PATTERN
# =========================================
# Servidor LDAP externo para autenticación
# Desarrollo local: ldap://localhost:389
# Docker: ldap://ldap:389 (nombre del servicio)
LDAP_SERVER=ldap://localhost:389
LDAP_BASE_DN=dc=example,dc=org
LDAP_USER_DN_TEMPLATE=uid={username},ou=users,dc=example,dc=org

# Credenciales para bind administrativo (opcional)
# Descomentar si necesitas autenticación administrativa en LDAP
# LDAP_BIND_USER=cn=admin,dc=example,dc=org
# LDAP_BIND_PASSWORD=admin_password

# Configuración del contenedor OpenLDAP (solo para Docker)
LDAP_ORGANISATION=Example Organization
LDAP_DOMAIN=example.org
LDAP_ADMIN_PASSWORD=admin_password
LDAP_CONFIG_PASSWORD=config_password

# =========================================
# JWT Y SEGURIDAD - GATEKEEPER PATTERN
# =========================================
# CRÍTICO: Cambiar esta clave en producción
# Generar clave segura: openssl rand -hex 32
JWT_SECRET_KEY=your-secret-key-change-in-production

# Tiempo de expiración del token en minutos
ACCESS_TOKEN_EXPIRE_MINUTES=30

# =========================================
# APLICACIÓN
# =========================================
API_HOST=0.0.0.0
API_PORT=8000

# Hot reload en desarrollo (true), desactivar en producción (false)
API_RELOAD=true

# Nivel de logging: debug, info, warning, error, critical
LOG_LEVEL=info

# Entorno de ejecución
ENVIRONMENT=development

# CORS (separado por comas)
CORS_ORIGINS=*

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60
